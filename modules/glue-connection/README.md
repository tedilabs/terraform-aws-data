# glue-connection

This module creates following resources.

- `aws_glue_connection`

<!-- BEGIN_TF_DOCS -->
## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | >= 1.12 |
| <a name="requirement_aws"></a> [aws](#requirement\_aws) | >= 6.13 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_aws"></a> [aws](#provider\_aws) | 6.27.0 |

## Modules

| Name | Source | Version |
|------|--------|---------|
| <a name="module_resource_group"></a> [resource\_group](#module\_resource\_group) | tedilabs/misc/aws//modules/resource-group | ~> 0.12.0 |
| <a name="module_security_group"></a> [security\_group](#module\_security\_group) | tedilabs/network/aws//modules/security-group | ~> 1.2.0 |

## Resources

| Name | Type |
|------|------|
| [aws_glue_connection.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/glue_connection) | resource |
| [aws_subnet.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/subnet) | data source |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_name"></a> [name](#input\_name) | (Required) The name of the Glue connection. | `string` | n/a | yes |
| <a name="input_properties"></a> [properties](#input\_properties) | (Optional) A map of key-value pairs used as parameters for this connection. Valid property keys are `HOST`, `PORT`, `USERNAME`, `PASSWORD`, `ENCRYPTED_PASSWORD`, `JDBC_DRIVER_JAR_URI`, `JDBC_DRIVER_CLASS_NAME`, `JDBC_ENGINE`, `JDBC_ENGINE_VERSION`, `CONFIG_FILES`, `INSTANCE_ID`, `JDBC_CONNECTION_URL`, `JDBC_ENFORCE_SSL`, `CUSTOM_JDBC_CERT`, `SKIP_CUSTOM_JDBC_CERT_VALIDATION`, `CUSTOM_JDBC_CERT_STRING`, `CONNECTION_URL`, `KAFKA_BOOTSTRAP_SERVERS`, `KAFKA_SSL_ENABLED`, `KAFKA_CUSTOM_CERT`, `KAFKA_SKIP_CUSTOM_CERT_VALIDATION`, `KAFKA_CLIENT_KEYSTORE`, `KAFKA_CLIENT_KEYSTORE_PASSWORD`, `KAFKA_CLIENT_KEY_PASSWORD`, `ENCRYPTED_KAFKA_CLIENT_KEYSTORE_PASSWORD`, `ENCRYPTED_KAFKA_CLIENT_KEY_PASSWORD`, `KAFKA_SASL_MECHANISM`, `KAFKA_SASL_PLAIN_USERNAME`, `KAFKA_SASL_PLAIN_PASSWORD`, `ENCRYPTED_KAFKA_SASL_PLAIN_PASSWORD`, `KAFKA_SASL_SCRAM_USERNAME`, `KAFKA_SASL_SCRAM_PASSWORD`, `KAFKA_SASL_SCRAM_SECRETS_ARN`, `ENCRYPTED_KAFKA_SASL_SCRAM_PASSWORD`, `KAFKA_SASL_GSSAPI_KEYTAB`, `KAFKA_SASL_GSSAPI_KRB5_CONF`, `KAFKA_SASL_GSSAPI_SERVICE`, `KAFKA_SASL_GSSAPI_PRINCIPAL`, `SECRET_ID`, `CONNECTOR_URL`, `CONNECTOR_TYPE`, `CONNECTOR_CLASS_NAME`, `ENDPOINT`, `ENDPOINT_TYPE`, `ROLE_ARN`, `REGION`, `WORKGROUP_NAME`, `CLUSTER_IDENTIFIER`, `DATABASE`.<br/><br/>  The following are the specific parameters used for each connection type:<br/><br/>  ## `JDBC`<br/>  - JDBC Connections use the following parameters.<br/>    (Required) All of (`HOST`, `PORT`, `JDBC_ENGINE`) or `JDBC_CONNECTION_URL`.<br/>    (Required) All of (`USERNAME`, `PASSWORD`) or `SECRET_ID`.<br/>    (Optional) `JDBC_ENFORCE_SSL`, `CUSTOM_JDBC_CERT`, `CUSTOM_JDBC_CERT_STRING`, `SKIP_CUSTOM_JDBC_CERT_VALIDATION`<br/><br/>  ## `KAFKA`<br/>  - KAFKA Connections use the following parameters.<br/>    (Required) `KAFKA_BOOTSTRAP_SERVERS`.<br/>    (Optional) `KAFKA_SSL_ENABLED`, `KAFKA_CUSTOM_CERT`, `KAFKA_SKIP_CUSTOM_CERT_VALIDATION`.<br/>    (Optional) `KAFKA_CLIENT_KEYSTORE`, `KAFKA_CLIENT_KEYSTORE_PASSWORD`, `KAFKA_CLIENT_KEY_PASSWORD`, `ENCRYPTED_KAFKA_CLIENT_KEYSTORE_PASSWORD`, `ENCRYPTED_KAFKA_CLIENT_KEY_PASSWORD`<br/>    (Optional) `KAFKA_SASL_MECHANISM` - Valid values are `SCRAM-SHA-512`, `GSSAPI`, or `AWS_MSK_IAM`.<br/>    (Optional) `KAFKA_SASL_SCRAM_USERNAME`, `KAFKA_SASL_SCRAM_PASSWORD`, `ENCRYPTED_KAFKA_SASL_SCRAM_PASSWORD` - Parameters are used to configure SASL/SCRAM-SHA-512 authentication.<br/>    (Optional) `KAFKA_SASL_GSSAPI_KEYTAB`, `KAFKA_SASL_GSSAPI_KRB5_CONF`, `KAFKA_SASL_GSSAPI_SERVICE`, `KAFKA_SASL_GSSAPI_PRINCIPAL` - Parameters are used to configure SASL/GSSAPI authentication.<br/><br/>  ## `MONGODB`<br/>  - MONGODB Connections use the following parameters.<br/>    (Required) `CONNECTION_URL`.<br/>    (Required) All of (`USERNAME`, `PASSWORD`) or `SECRET_ID`.<br/><br/>  ## `NETWORK`<br/>  - NETWORK Connections do not require parameters. Instead, provide a `vpc_association`.<br/><br/>  ## `MARKETPLACE`<br/>  - MARKETPLACE Connections use the following parameters.<br/>    (Required) `CONNECTOR_TYPE`, `CONNECTOR_URL`, `CONNECTOR_CLASS_NAME`, `CONNECTION_URL`.<br/>    (Required) All of (`USERNAME`, `PASSWORD`) or `SECRET_ID`. Only required if `CONNECTOR_TYPE` is `JDBC`.<br/><br/>  ## `CUSTOM`<br/>  - Use configuration settings contained in a custom connector to read from and write to data stores that are not natively supported by Glue. | `map(string)` | n/a | yes |
| <a name="input_type"></a> [type](#input\_type) | (Required) The type of the connection. Valid values are `JDBC`, `SFTP`, `MONGODB`, `KAFKA`, `NETWORK`, `MARKETPLACE`, `CUSTOM`, `SALESFORCE`, `VIEW_VALIDATION_REDSHIFT`, `VIEW_VALIDATION_ATHENA`, `GOOGLEADS`, `GOOGLESHEETS`, `GOOGLEANALYTICS4`, `SERVICENOW`, `MARKETO`, `SAPODATA`, `ZENDESK`, `JIRACLOUD`, `NETSUITEERP`, `HUBSPOT`, `FACEBOOKADS`, `INSTAGRAMADS`, `ZOHOCRM`, `SALESFORCEPARDOT`, `SALESFORCEMARKETINGCLOUD`, `ADOBEANALYTICS`, `SLACK`, `LINKEDIN`, `MIXPANEL`, `ASANA`, `STRIPE`, `SMARTSHEET`, `DATADOG`, `WOOCOMMERCE`, `INTERCOM`, `SNAPCHATADS`, `PAYPAL`, `QUICKBOOKS`, `FACEBOOKPAGEINSIGHTS`, `FRESHDESK`, `TWILIO`, `DOCUSIGNMONITOR`, `FRESHSALES`, `ZOOM`, `GOOGLESEARCHCONSOLE`, `SALESFORCECOMMERCECLOUD`, `SAPCONCUR`, `DYNATRACE`, `MICROSOFTDYNAMIC365FINANCEANDOPS`, `MICROSOFTTEAMS`, `BLACKBAUDRAISEREDGENXT`, `MAILCHIMP`, `GITLAB`, `PENDO`, `PRODUCTBOARD`, `CIRCLECI`, `PIPEDIVE`, `SENDGRID`, `AZURECOSMOS`, `AZURESQL`, `BIGQUERY`, `BLACKBAUD`, `CLOUDERAHIVE`, `CLOUDERAIMPALA`, `CLOUDWATCH`, `CLOUDWATCHMETRICS`, `CMDB`, `DATALAKEGEN2`, `DB2`, `DB2AS400`, `DOCUMENTDB`, `DOMO`, `DYNAMODB`, `GOOGLECLOUDSTORAGE`, `HBASE`, `KUSTOMER`, `MICROSOFTDYNAMICS365CRM`, `MONDAY`, `MYSQL`, `OKTA`, `OPENSEARCH`, `ORACLE`, `PIPEDRIVE`, `POSTGRESQL`, `SAPHANA`, `SQLSERVER`, `SYNAPSE`, `TERADATA`, `TERADATANOS`, `TIMESTREAM`, `TPCDS`, `VERTICA`. | `string` | n/a | yes |
| <a name="input_athena_properties"></a> [athena\_properties](#input\_athena\_properties) | (Optional) A map of key-value pairs used as connection properties for Athena compute environment. | `map(string)` | `{}` | no |
| <a name="input_catalog"></a> [catalog](#input\_catalog) | (Optional) The ID of the Data Catalog in which to create the connection. If omitted, this defaults to the AWS Account ID. | `string` | `null` | no |
| <a name="input_description"></a> [description](#input\_description) | (Optional) The description of the connection. Can be up to 2048 characters long. | `string` | `"Managed by Terraform."` | no |
| <a name="input_match_criteria"></a> [match\_criteria](#input\_match\_criteria) | (Optional) A list of criteria that can be used in selecting this connection. | `list(string)` | `[]` | no |
| <a name="input_module_tags_enabled"></a> [module\_tags\_enabled](#input\_module\_tags\_enabled) | (Optional) Whether to create AWS Resource Tags for the module informations. | `bool` | `true` | no |
| <a name="input_region"></a> [region](#input\_region) | (Optional) The region in which to create the module resources. If not provided, the module resources will be created in the provider's configured region. | `string` | `null` | no |
| <a name="input_resource_group"></a> [resource\_group](#input\_resource\_group) | (Optional) A configurations of Resource Group for this module. `resource_group` as defined below.<br/>    (Optional) `enabled` - Whether to create Resource Group to find and group AWS resources which are created by this module. Defaults to `true`.<br/>    (Optional) `name` - The name of Resource Group. A Resource Group name can have a maximum of 127 characters, including letters, numbers, hyphens, dots, and underscores. The name cannot start with `AWS` or `aws`. If not provided, a name will be generated using the module name and instance name.<br/>    (Optional) `description` - The description of Resource Group. Defaults to `Managed by Terraform.`. | <pre>object({<br/>    enabled     = optional(bool, true)<br/>    name        = optional(string, "")<br/>    description = optional(string, "Managed by Terraform.")<br/>  })</pre> | `{}` | no |
| <a name="input_tags"></a> [tags](#input\_tags) | (Optional) A map of tags to add to all resources. | `map(string)` | `{}` | no |
| <a name="input_vpc_association"></a> [vpc\_association](#input\_vpc\_association) | (Optional) A configuration for additional VPC association of the Glue connection when your AWS Glue job needs to run on Amazon Elastic Compute Cloud (EC2) instances in a virtual private cloud (VPC) subnet. `vpc_association` as defined below.<br/>    (Optional) `enabled` - Whether to associate Glue connection to VPC subnet.<br/>    (Optional) `subnet` - The subnet ID used by the connection.<br/><br/>    (Optional) `default_security_group` - The configuration of the default security group for the Glue connection. `default_security_group` block as defined below.<br/>      (Optional) `enabled` - Whether to use the default security group. Defaults to `true`.<br/>      (Optional) `name` - The name of the default security group. If not provided, the Glue connection name is used for the name of security group.<br/>      (Optional) `description` - The description of the default security group.<br/>      (Optional) `ingress_rules` - A list of ingress rules in a security group. Defaults to `[]`. Each block of `ingress_rules` as defined below.<br/>        (Required) `id` - The ID of the ingress rule. This value is only used internally within Terraform code.<br/>        (Optional) `description` - The description of the rule.<br/>        (Required) `protocol` - The protocol to match. Note that if `protocol` is set to `-1`, it translates to all protocols, all port ranges, and `from_port` and `to_port` values should not be defined.<br/>        (Required) `from_port` - The start of port range for the protocols.<br/>        (Required) `to_port` - The end of port range for the protocols.<br/>        (Optional) `ipv4_cidrs` - The IPv4 network ranges to allow, in CIDR notation.<br/>        (Optional) `ipv6_cidrs` - The IPv6 network ranges to allow, in CIDR notation.<br/>        (Optional) `prefix_lists` - The prefix list IDs to allow.<br/>        (Optional) `security_groups` - The source security group IDs to allow.<br/>        (Optional) `self` - Whether the security group itself will be added as a source to this ingress rule.<br/>      (Optional) `egress_rules` - A list of egress rules in a security group. Defaults to `[]`. Each block of `egress_rules` as defined below.<br/>        (Required) `id` - The ID of the egress rule. This value is only used internally within Terraform code.<br/>        (Optional) `description` - The description of the rule.<br/>        (Required) `protocol` - The protocol to match. Note that if `protocol` is set to `-1`, it translates to all protocols, all port ranges, and `from_port` and `to_port` values should not be defined.<br/>        (Required) `from_port` - The start of port range for the protocols.<br/>        (Required) `to_port` - The end of port range for the protocols.<br/>        (Optional) `ipv4_cidrs` - The IPv4 network ranges to allow, in CIDR notation.<br/>        (Optional) `ipv6_cidrs` - The IPv6 network ranges to allow, in CIDR notation.<br/>        (Optional) `prefix_lists` - The prefix list IDs to allow.<br/>        (Optional) `security_groups` - The source security group IDs to allow.<br/>        (Optional) `self` - Whether the security group itself will be added as a source to this ingress rule.<br/>    (Optional) `security_groups` - A set of IDs of security groups to allow access to the data store in your VPC subnet. Security groups are associated to the ENI attached to your subnet. You must choose at least one security group with a self-referencing inbound rule for all TCP ports. | <pre>object({<br/>    enabled = optional(bool, false)<br/>    subnet  = optional(string)<br/>    default_security_group = optional(object({<br/>      enabled     = optional(bool, true)<br/>      name        = optional(string)<br/>      description = optional(string, "Managed by Terraform.")<br/>      ingress_rules = optional(<br/>        list(object({<br/>          id              = string<br/>          description     = optional(string, "Managed by Terraform.")<br/>          protocol        = string<br/>          from_port       = number<br/>          to_port         = number<br/>          ipv4_cidrs      = optional(list(string), [])<br/>          ipv6_cidrs      = optional(list(string), [])<br/>          prefix_lists    = optional(list(string), [])<br/>          security_groups = optional(list(string), [])<br/>          self            = optional(bool, false)<br/>        })),<br/>        []<br/>      )<br/>      egress_rules = optional(<br/>        list(object({<br/>          id              = string<br/>          description     = optional(string, "Managed by Terraform.")<br/>          protocol        = string<br/>          from_port       = number<br/>          to_port         = number<br/>          ipv4_cidrs      = optional(list(string), [])<br/>          ipv6_cidrs      = optional(list(string), [])<br/>          prefix_lists    = optional(list(string), [])<br/>          security_groups = optional(list(string), [])<br/>          self            = optional(bool, false)<br/>        })),<br/>        []<br/>      )<br/>    }), {})<br/>    security_groups = optional(set(string), [])<br/>  })</pre> | `{}` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_arn"></a> [arn](#output\_arn) | The Amazon Resource Name (ARN) of the Glue connection. |
| <a name="output_athena_properties"></a> [athena\_properties](#output\_athena\_properties) | A map of key-value pairs used as parameters for Athena connections. |
| <a name="output_catalog"></a> [catalog](#output\_catalog) | The ID of the Glue Catalog. |
| <a name="output_description"></a> [description](#output\_description) | The description of the Glue connection. |
| <a name="output_id"></a> [id](#output\_id) | The ID of the Glue connection. |
| <a name="output_match_criteria"></a> [match\_criteria](#output\_match\_criteria) | A list of criteria that can be used in selecting this connection. |
| <a name="output_name"></a> [name](#output\_name) | The name of the Glue connection. |
| <a name="output_properties"></a> [properties](#output\_properties) | A map of key-value pairs used as parameters for this connection. |
| <a name="output_region"></a> [region](#output\_region) | The AWS region this module resources resides in. |
| <a name="output_resource_group"></a> [resource\_group](#output\_resource\_group) | The resource group created to manage resources in this module. |
| <a name="output_type"></a> [type](#output\_type) | The type of the connection. |
| <a name="output_vpc_association"></a> [vpc\_association](#output\_vpc\_association) | A configuration for additional VPC association of the Glue connection when your AWS Glue job needs to run on Amazon Elastic Compute Cloud (EC2) instances in a virtual private cloud (VPC) subnet. |
<!-- END_TF_DOCS -->
